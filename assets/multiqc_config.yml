report_comment: >
  This report has been generated by the <a href="https://github.com/nf-core/rnaseq" target="_blank">nf-core/rnaseq</a>
  analysis pipeline. For information about how to interpret these results, please see the
  <a href="https://nf-co.re/rnaseq" target="_blank">documentation</a>.
report_section_order:
  "nf-core-rnaseq-methods-description":
    order: -1000
  software_versions:
    order: -1001
  "nf-core-rnaseq-summary":
    order: -1002

export_plots: true

# Run only these modules
run_modules:
  - custom_content
  - fastqc
  - cutadapt
  - fastp
  - sortmerna
  - star
  - hisat2
  - rsem
  - salmon
  - samtools
  - picard
  - preseq
  - rseqc
  - qualimap

# Order of modules
top_modules:
  - "fail_trimmed_samples"
  - "fail_mapped_samples"
  - "fail_strand_check"
  - "star_rsem_deseq2_pca"
  - "star_rsem_deseq2_clustering"
  - "star_salmon_deseq2_pca"
  - "star_salmon_deseq2_clustering"
  - "salmon_deseq2_pca"
  - "salmon_deseq2_clustering"
  - "biotype_counts"
  - "dupradar"

module_order:
  - fastqc:
      name: "FastQC (raw)"
      info: "This section of the report shows FastQC results before adapter trimming."
      path_filters:
        - "./fastqc/raw/*.zip"
  - cutadapt
  - fastp
  - fastqc:
      name: "FastQC (trimmed)"
      info: "This section of the report shows FastQC results after adapter trimming."
      path_filters:
        - "./fastqc/trim/*.zip"

# Don't show % Dups in the General Stats table (we have this from Picard)
table_columns_visible:
  fastqc:
    percent_duplicates: False

extra_fn_clean_exts:
  - ".umi_dedup"
  - "_val"
  - ".markdup"

# Customise the module search patterns to speed up execution time
#  - Skip module sub-tools that we are not interested in
#  - Replace file-content searching with filename pattern searching
#  - Don't add anything that is the same as the MultiQC default
# See https://multiqc.info/docs/#optimise-file-search-patterns for details
sp:
  cutadapt:
    fn: "*trimming_report.txt"

  fastp:
    fn: "*.fastp.json"

  sortmerna:
    fn: "*.sortmerna.log"

  hisat2:
    fn: "*.hisat2.summary.log"

  salmon/meta:
    fn: "meta_info.json"

  preseq:
    fn: "*.lc_extrap.txt"

  samtools/stats:
    fn: "*.stats"
  samtools/flagstat:
    fn: "*.flagstat"
  samtools/idxstats:
    fn: "*.idxstats*"

  rseqc/bam_stat:
    fn: "*.bam_stat.txt"
  rseqc/gene_body_coverage:
    skip: true
  rseqc/junction_annotation:
    fn: "*.junction_annotation.log"
  rseqc/read_gc:
    skip: true
  rseqc/read_distribution:
    fn: "*.read_distribution.txt"
  rseqc/infer_experiment:
    fn: "*.infer_experiment.txt"
  rseqc/tin:
    fn: "*.summary.txt"

  picard/markdups:
    fn: "*.MarkDuplicates.metrics.txt"
  picard/alignment_metrics:
    skip: true
  picard/basedistributionbycycle:
    skip: true
  picard/gcbias:
    skip: true
  picard/hsmetrics:
    skip: true
  picard/insertsize:
    skip: true
  picard/oxogmetrics:
    skip: true
  picard/pcr_metrics:
    skip: true
  picard/quality_by_cycle:
    skip: true
  picard/quality_score_distribution:
    skip: true
  picard/quality_yield_metrics:
    skip: true
  picard/rnaseqmetrics:
    skip: true
  picard/rrbs_metrics:
    skip: true
  picard/sam_file_validation:
    skip: true
  picard/variant_calling_metrics:
    skip: true
  picard/wgs_metrics:
    skip: true

# See https://github.com/ewels/MultiQC_TestData/blob/master/data/custom_content/with_config/table_headerconfig/multiqc_config.yaml
custom_data:
  fail_trimmed_samples:
    section_name: "WARNING: Fail Trimming Check"
    description: "List of samples that failed the minimum trimmed reads threshold specified via the '--min_trimmed_reads' parameter, and hence were ignored for the downstream processing steps."
    plot_type: "table"
    pconfig:
      id: "fail_trimmed_samples_table"
      table_title: "Samples failed trimming threshold"
      namespace: "Samples failed trimming threshold"
      format: "{:.0f}"
  fail_mapped_samples:
    section_name: "WARNING: Fail Alignment Check"
    description: "List of samples that failed the STAR minimum mapped reads threshold specified via the '--min_mapped_reads' parameter, and hence were ignored for the downstream processing steps."
    plot_type: "table"
    pconfig:
      id: "fail_mapped_samples_table"
      table_title: "Samples failed mapping threshold"
      namespace: "Samples failed mapping threshold"
      format: "{:.2f}"
  fail_strand_check:
    section_name: "WARNING: Fail Strand Check"
    description: "List of samples that failed the strandedness check between that provided in the samplesheet and calculated by the <a href='http://rseqc.sourceforge.net/#infer-experiment-py'>RSeQC infer_experiment.py</a> tool."
    plot_type: "table"
    pconfig:
      id: "fail_strand_check_table"
      table_title: "Samples failed strandedness check"
      namespace: "Samples failed strandedness check"
      format: "{:.2f}"
